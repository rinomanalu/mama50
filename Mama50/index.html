<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selamat Ulang Tahun ke-50 Mama Retno</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        body {
            font-family: 'Lato', sans-serif;
            scroll-behavior: smooth;
        }
        h1, h2, h3, .fancy-font {
            font-family: 'Playfair Display', serif;
        }
        /* Animasi Fade In */
        .fade-in-section {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 1s ease-out, transform 1s ease-out;
            visibility: hidden;
        }
        .fade-in-section.is-visible {
            opacity: 1;
            transform: none;
            visibility: visible;
        }
        
        /* Style Kartu */
        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .bible-verse {
            font-style: italic;
            color: #555;
            border-left: 4px solid #d4af37;
            padding-left: 1rem;
            margin-top: 1rem;
        }

        /* Style Pilihan Hadiah */
        .gift-option:checked + label {
            background-color: #fef08a; /* yellow-200 */
            border-color: #eab308; /* yellow-500 */
            transform: scale(1.05);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        
        /* Loading Spinner */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #d4af37;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            display: inline-block;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-stone-50 text-stone-800 overflow-x-hidden">

    <!-- Tombol Musik -->
    <div class="fixed bottom-4 right-4 z-50">
        <button id="playMusicBtn" class="bg-yellow-600 hover:bg-yellow-700 text-white rounded-full p-4 shadow-lg transition transform hover:scale-110 flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>
            <span class="font-semibold text-sm">Putar Musik</span>
        </button>
        <audio id="bgMusic" loop playsinline preload="none">
            <!-- Gunakan link langsung Google Drive (pastikan file publik) -->
            <source src="GJ.mp3" type="audio/mpeg">
        </audio>
    </div>

    <!-- Modal Sukses -->
    <div id="successModal" class="fixed inset-0 z-[60] hidden flex items-center justify-center bg-black bg-opacity-50 px-4">
        <div class="bg-white rounded-2xl p-8 max-w-sm w-full text-center shadow-2xl transform transition-all scale-100">
            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
            </div>
            <h3 class="text-2xl font-bold text-gray-800 mb-2 fancy-font">Terima Kasih, Ma!</h3>
            <p class="text-gray-600 mb-6">Permintaan Mama sudah terkirim. Tunggu kado spesialnya ya! ‚ù§Ô∏è</p>
            <button onclick="closeModal()" class="bg-yellow-500 hover:bg-yellow-600 text-white px-6 py-2 rounded-full font-semibold transition">
                Siap!
            </button>
        </div>
    </div>

    <!-- Hero Section -->
    <header class="relative h-screen flex items-center justify-center overflow-hidden bg-black">
        <div class="absolute inset-0 opacity-60">
            <img src="https://drive.google.com/thumbnail?id=1uNJNlQnQCg2m5mq1nMO6kgqfEqgzvX-7&sz=w1920" class="w-full h-full object-cover" alt="Mama Retno">
        </div>
        <div class="absolute inset-0 bg-gradient-to-b from-black/30 via-black/20 to-stone-50"></div>
        
        <div class="relative z-10 text-center text-white px-4 fade-in-section is-visible delay-100">
            <p class="text-lg md:text-xl tracking-[0.3em] mb-4 uppercase font-light">The Golden Jubilee</p>
            <h1 class="text-5xl md:text-8xl font-bold mb-6 fancy-font text-yellow-400 drop-shadow-lg">
                Our Lovely Mom,Retno Tri Harjanti
            </h1>
            <div class="w-24 h-1 bg-yellow-500 mx-auto mb-6"></div>
            <p class="text-2xl md:text-3xl font-light italic">20 November 1975 - 20 November 2025</p>
            <p class="mt-8 text-xl animate-bounce">
                <svg class="w-8 h-8 mx-auto text-white opacity-80" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
            </p>
        </div>
    </header>

    <!-- Section 1: Rasa Syukur -->
    <section class="min-h-screen flex items-center py-20 px-4 md:px-20 bg-stone-50 relative">
        <div class="container mx-auto grid md:grid-cols-2 gap-12 items-center">
            <div class="fade-in-section">
                <div class="relative rounded-2xl overflow-hidden shadow-2xl rotate-2 hover:rotate-0 transition duration-500 border-8 border-white">
                    <img src="https://drive.google.com/thumbnail?id=1Izhz1wpoOHMKUMCvF4vSHgJ2D928M89c&sz=w1000" alt="Mama Foto 1" class="w-full object-cover transform hover:scale-105 transition duration-700">
                </div>
            </div>
            <div class="text-left fade-in-section space-y-6">
                <h2 class="text-4xl md:text-5xl text-yellow-700 fancy-font">Puji Tuhan, 50 Tahun...</h2>
                <p class="text-lg text-gray-600 leading-relaxed">
                    Segala puji syukur hanya bagi Tuhan Yesus Kristus. Setengah abad usia Mama adalah bukti penyertaan-Nya yang sempurna.
                    <br><br>
                    Di usia 50 tahun ini, bukan hanya tentang angka yang bertambah, tapi tentang berkat usia yang telah Mama lalui dalam kasih karunia Tuhan. Terima kasih, Ma, karena selalu menjadi pendoa syafaat bagi kami. Kehadiran Mama adalah anugerah terindah yang Tuhan titipkan untuk keluarga ini.
                </p>
                <div class="bible-verse">
                    "Mengucap syukurlah dalam segala hal, sebab itulah yang dikehendaki Allah di dalam Kristus Yesus bagi kamu." 
                    <br><span class="text-sm font-bold">- 1 Tesalonika 5:18</span>
                </div>
                <div class="pt-4">
                    <span class="inline-block bg-yellow-100 text-yellow-800 px-4 py-2 rounded-full text-sm font-semibold tracking-wide">#BlessedByGrace</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 2: Ayat Emas -->
    <section class="py-20 px-4 bg-stone-200">
        <div class="container mx-auto fade-in-section">
            <h2 class="text-center text-3xl md:text-4xl fancy-font text-stone-700 mb-12">Janji Tuhan di Usia Emas</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="glass-card p-8 rounded-xl shadow-lg hover:shadow-xl transition text-center">
                    <div class="text-yellow-600 mb-4 flex justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.42 4.58a5.4 5.4 0 0 0-7.65 0l-.77.78-.77-.78a5.4 5.4 0 0 0-7.65 0C1.46 6.7 1.33 10.28 4 13l8 8 8-8c2.67-2.72 2.54-6.3.42-8.42z"/></svg>
                    </div>
                    <h3 class="text-xl font-bold mb-4 font-serif">Penyertaan Abadi</h3>
                    <p class="italic text-gray-600 mb-4">"Sampai masa tuamu Aku tetap Dia dan sampai masa putih rambutmu Aku menggendong kamu."</p>
                    <p class="font-bold text-sm text-yellow-800">Yesaya 46:4</p>
                </div>
                <div class="glass-card p-8 rounded-xl shadow-lg hover:shadow-xl transition text-center transform md:-translate-y-4">
                    <div class="text-yellow-600 mb-4 flex justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/><line x1="4" y1="22" x2="4" y2="15"/></svg>
                    </div>
                    <h3 class="text-xl font-bold mb-4 font-serif">Sabar & Bertekun</h3>
                    <p class="italic text-gray-600 mb-4">"Bersukacitalah dalam pengharapan, sabarlah dalam kesesakan, dan bertekunlah dalam doa!"</p>
                    <p class="font-bold text-sm text-yellow-800">Roma 12:12</p>
                </div>
                <div class="glass-card p-8 rounded-xl shadow-lg hover:shadow-xl transition text-center">
                    <div class="text-yellow-600 mb-4 flex justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></svg>
                    </div>
                    <h3 class="text-xl font-bold mb-4 font-serif">Mahkota Indah</h3>
                    <p class="italic text-gray-600 mb-4">"Rambut putih adalah mahkota yang indah, yang didapat pada jalan kebenaran."</p>
                    <p class="font-bold text-sm text-yellow-800">Amsal 16:31</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 3: Terharu & Bahagia -->
    <section class="min-h-screen flex items-center py-20 px-4 md:px-20 bg-white">
        <div class="container mx-auto grid md:grid-cols-2 gap-12 items-center">
            <div class="order-2 md:order-1 text-right fade-in-section space-y-6">
                <h2 class="text-4xl md:text-5xl text-pink-800 fancy-font">Kasih Tanpa Batas</h2>
                <p class="text-lg text-gray-600 leading-relaxed italic">
                    "Ma, melihat senyum Mama di usia emas ini, rasanya hati ini bergetar..."
                </p>
                <p class="text-lg text-gray-600 leading-relaxed">
                    Mungkin kami jarang mengucapkannya, tapi kami sangat bangga memiliki ibu seperti Mama. 
                    Selamat ulang tahun, Mama tercinta. Sehat selalu ya, Ma.
                </p>
                 <div class="bible-verse text-right border-l-0 border-r-4 pr-4 border-pink-300">
                    "Anak-anaknya bangun, dan menyebutnya berbahagia..."
                    <br><span class="text-sm font-bold">- Amsal 31:28a</span>
                </div>
            </div>
            <div class="order-1 md:order-2 fade-in-section">
                <div class="relative rounded-full aspect-square overflow-hidden shadow-2xl border-4 border-pink-100 mx-auto w-3/4 md:w-full">
                    <img src="https://drive.google.com/thumbnail?id=161Ows8Llm8OeERS0S8E-72CjrSP_F9Vr&sz=w1000" alt="Mama Foto 2" class="w-full h-full object-cover opacity-90 hover:opacity-100 transition">
                </div>
            </div>
        </div>
    </section>

    <!-- Section 4: Modern & Fun -->
    <section class="min-h-screen flex items-center justify-center py-20 px-4 bg-stone-900 text-white bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]">
        <div class="container mx-auto text-center fade-in-section max-w-4xl">
            <h2 class="text-5xl md:text-7xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-yellow-500 to-yellow-300 fancy-font mb-8">
                Happy Golden Birthday!
            </h2>
            <p class="text-2xl md:text-3xl font-light mb-12">"50 Tahun diberkati untuk menjadi berkat."</p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                <div class="glass-card p-6 rounded-xl text-stone-900">
                    <img src="https://drive.google.com/thumbnail?id=1FYg8gR6HHxM5vmPslS8jndEcsJjb_Pq-&sz=w500" class="w-full h-48 object-cover rounded-lg mb-4 shadow-md">
                    <h3 class="text-xl font-bold mb-2">Joyful</h3>
                </div>
                <div class="glass-card p-6 rounded-xl text-stone-900">
                    <img src="https://drive.google.com/thumbnail?id=1kiWE2bAV52DOxzzhQGdu_V4ngexzCgN1&sz=w500" class="w-full h-48 object-cover rounded-lg mb-4 shadow-md">
                    <h3 class="text-xl font-bold mb-2">Energetic</h3>
                </div>
                <div class="glass-card p-6 rounded-xl text-stone-900">
                    <img src="https://drive.google.com/thumbnail?id=1Cm-eoSj3O1b_QQGKqTQyoqKctIdwOihR&sz=w500" class="w-full h-48 object-cover rounded-lg mb-4 shadow-md">
                    <h3 class="text-xl font-bold mb-2">Inspiring</h3>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Grid -->
    <section class="py-20 px-4 bg-stone-100">
        <div class="container mx-auto">
            <h2 class="text-center text-4xl fancy-font mb-12 text-stone-700">Momen Indah Bersama</h2>
            <div class="columns-1 md:columns-3 gap-4 space-y-4 px-4">
                <div class="rounded-lg overflow-hidden shadow-lg"><img src="https://drive.google.com/thumbnail?id=1uNJNlQnQCg2m5mq1nMO6kgqfEqgzvX-7&sz=w800" class="w-full"></div>
                <div class="rounded-lg overflow-hidden shadow-lg"><img src="https://drive.google.com/thumbnail?id=1Izhz1wpoOHMKUMCvF4vSHgJ2D928M89c&sz=w800" class="w-full"></div>
                <div class="rounded-lg overflow-hidden shadow-lg"><img src="https://drive.google.com/thumbnail?id=161Ows8Llm8OeERS0S8E-72CjrSP_F9Vr&sz=w800" class="w-full"></div>
                <div class="rounded-lg overflow-hidden shadow-lg"><img src="https://drive.google.com/thumbnail?id=1FYg8gR6HHxM5vmPslS8jndEcsJjb_Pq-&sz=w800" class="w-full"></div>
                <div class="rounded-lg overflow-hidden shadow-lg"><img src="https://drive.google.com/thumbnail?id=1kiWE2bAV52DOxzzhQGdu_V4ngexzCgN1&sz=w800" class="w-full"></div>
                <div class="rounded-lg overflow-hidden shadow-lg"><img src="https://drive.google.com/thumbnail?id=1Cm-eoSj3O1b_QQGKqTQyoqKctIdwOihR&sz=w800" class="w-full"></div>
                <div class="rounded-lg overflow-hidden shadow-lg"><img src="https://drive.google.com/thumbnail?id=1dtZ9hlZe_Wv86bSqVRkFp5BdklXJ0JnM&sz=w800" class="w-full"></div>
            </div>
        </div>
    </section>

    <!-- BAGIAN PERMINTAAN HADIAH -->
    <section id="gift-section" class="py-20 px-4 bg-yellow-50 border-t-4 border-yellow-400">
        <div class="container mx-auto max-w-2xl text-center">
            <h2 class="text-4xl fancy-font text-stone-800 mb-2">üéÅ Kado Spesial Untuk Mama üéÅ</h2>
            <p class="text-stone-600 mb-8 font-bold">Mama berhak mendapatkan yang terbaik! Pilih salah satu kado di bawah ini ya, Ma :)</p>
            
            <form id="giftForm" class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Option A -->
                    <div class="relative">
                        <input type="radio" name="gift_amount" id="gift_1000" value="Rp 1.000" class="gift-option sr-only" required>
                        <label for="gift_1000" class="block p-6 bg-white border-2 border-stone-200 rounded-xl cursor-pointer hover:border-yellow-400 transition-all">
                            <div class="text-xl font-bold text-stone-800">Rp 1.000</div>
                            <div class="text-xs text-stone-500 mt-1">Tanda Sayang (Canda Aja Ma Hehe)</div>
                        </label>
                    </div>
                    <!-- Option B -->
                    <div class="relative">
                        <input type="radio" name="gift_amount" id="gift_100000a" value="Rp 100.000 (Bakso)" class="gift-option sr-only">
                        <label for="gift_100000a" class="block p-6 bg-white border-2 border-stone-200 rounded-xl cursor-pointer hover:border-yellow-400 transition-all">
                            <div class="text-xl font-bold text-stone-800">Rp 50.000</div>
                            <div class="text-xs text-stone-500 mt-1">Traktir Bakso</div>
                        </label>
                    </div>
                    <!-- Option C -->
                    <div class="relative">
                        <input type="radio" name="gift_amount" id="gift_100000b" value="Rp 100.000 (Sayur)" class="gift-option sr-only">
                        <label for="gift_100000b" class="block p-6 bg-white border-2 border-stone-200 rounded-xl cursor-pointer hover:border-yellow-400 transition-all">
                            <div class="text-xl font-bold text-stone-800">Rp 100.000</div>
                            <div class="text-xs text-stone-500 mt-1">Belanja Sayur</div>
                        </label>
                    </div>
                    <!-- Option D -->
                    <div class="relative">
                        <input type="radio" name="gift_amount" id="gift_200000" value="Rp 200.000" class="gift-option sr-only">
                        <label for="gift_200000" class="block p-6 bg-white border-2 border-stone-200 rounded-xl cursor-pointer hover:border-yellow-400 transition-all">
                            <div class="text-xl font-bold text-stone-800">Rp 200.000</div>
                            <div class="text-xs text-stone-500 mt-1">Kado Spesial</div>
                        </label>
                    </div>
                </div>

                <button type="submit" id="submitBtn" class="bg-stone-900 hover:bg-stone-800 text-white font-bold py-4 px-10 rounded-full shadow-lg transition transform hover:scale-105 flex items-center justify-center mx-auto gap-2 min-w-[200px]">
                    <span>Kirim Keinginan Mama</span>
                    <span id="btnLoader" class="loader hidden"></span>
                </button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-stone-900 text-stone-400 py-12 text-center">
        <p class="text-sm tracking-widest mb-4">DIBUAT DENGAN CINTA UNTUK MAMA</p>
        <h2 class="text-3xl text-white fancy-font">Retno Tri Harjanti</h2>
        <p class="mt-2">20 November 2025</p>
        <p class="mt-2 italic text-sm">"Tuhan memberkati engkau dan melindungi engkau"</p>
        <div class="mt-8"><span class="text-red-500 text-2xl">&hearts;</span></div>
    </footer>

    <script>
        // EmailJS Config
        const PUBLIC_KEY = "piDQ4cbPlqRV6WtHx"; 
        const SERVICE_ID = "service_4hieuy9"; 
        const TEMPLATE_ID = "template_mpea0kn";

        (function() { emailjs.init(PUBLIC_KEY); })();

        document.getElementById('giftForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const submitBtn = document.getElementById('submitBtn');
            const btnLoader = document.getElementById('btnLoader');
            const btnText = submitBtn.querySelector('span:first-child');

            submitBtn.disabled = true;
            btnText.textContent = "Mengirim...";
            btnLoader.classList.remove('hidden');

            const selectedGift = document.querySelector('input[name="gift_amount"]:checked').value;
            
            const templateParams = {
                to_email: 'rinomanalu61@gmail.com', 
                subject: 'Pilihan Hadiah Ulang Tahun Mama',
                from_name: 'Mama Retno',
                message: "Hore! Mama Retno telah memilih hadiah ulang tahunnya: " + selectedGift,
                gift_amount: selectedGift
            };

            emailjs.send(SERVICE_ID, TEMPLATE_ID, templateParams)
                .then(function() {
                    document.getElementById('successModal').classList.remove('hidden');
                    submitBtn.disabled = false;
                    btnText.textContent = "Kirim Keinginan Mama";
                    btnLoader.classList.add('hidden');
                }, function(error) {
                    console.log('FAILED...', error);
                    alert("Maaf, terjadi kesalahan pengiriman.");
                    submitBtn.disabled = false;
                    btnText.textContent = "Kirim Keinginan Mama";
                    btnLoader.classList.add('hidden');
                });
        });

        function closeModal() {
            document.getElementById('successModal').classList.add('hidden');
        }

        // Music Player
        const playBtn = document.getElementById('playMusicBtn');
        const audio = document.getElementById('bgMusic');
        let isPlaying = false;
        let isLoading = false;
        const DRIVE_ID = '1eX_EKqlBTwqLGR7BSg1iYUMB5_9xgK8Y';
        const DRIVE_SRC_USERCONTENT = `https://drive.usercontent.google.com/uc?id=${DRIVE_ID}&export=download`;
        const DRIVE_SRC_UC = `https://drive.google.com/uc?export=download&id=${DRIVE_ID}`;
        const FALLBACK_SRC = 'GJ.mp3';

        // Set sumber awal ke file lokal Happy Birthday
        audio.src = 'GJ.mp3';

        function setButtonToPause() {
            playBtn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg><span class="font-semibold text-sm">Pause</span>`;
            playBtn.classList.add('animate-pulse');
        }
        function setButtonToPlay() {
            playBtn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-music"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg><span class="font-semibold text-sm">Putar Musik</span>`;
            playBtn.classList.remove('animate-pulse');
        }
        function setButtonLoading() {
            playBtn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v4"/><path d="M12 18v4"/><path d="M4.93 4.93l2.83 2.83"/><path d="M16.24 16.24l2.83 2.83"/><path d="M2 12h4"/><path d="M18 12h4"/><path d="M4.93 19.07l2.83-2.83"/><path d="M16.24 7.76l2.83-2.83"/></svg><span class="font-semibold text-sm">Memuat...</span>`;
        }

        audio.addEventListener('playing', () => {
            isPlaying = true;
            isLoading = false;
            setButtonToPause();
        });
        audio.addEventListener('pause', () => {
            isPlaying = false;
            setButtonToPlay();
        });
        audio.addEventListener('error', () => {
            console.log('Audio error', audio.error, 'src:', audio.currentSrc);
            // Jika file lokal gagal, coba tautan Google Drive
            if (audio.currentSrc.includes('GJ.mp3')) {
                audio.src = DRIVE_SRC_USERCONTENT;
                audio.load();
                audio.play().catch(() => {
                    audio.src = DRIVE_SRC_UC;
                    audio.load();
                    audio.play().catch(() => {
                        alert('Musik gagal diputar dari file lokal maupun link Drive.');
                        setButtonToPlay();
                    });
                });
            } else if (audio.currentSrc.includes('drive.usercontent.google.com')) {
                audio.src = FALLBACK_SRC;
                audio.load();
                audio.play().catch(() => {
                    alert('Musik gagal diputar.');
                    setButtonToPlay();
                });
            } else if (audio.currentSrc.includes('drive.google.com')) {
                audio.src = FALLBACK_SRC;
                audio.load();
                audio.play().catch(() => {
                    alert('Musik gagal diputar.');
                    setButtonToPlay();
                });
            } else {
                alert('Musik gagal diputar.');
                setButtonToPlay();
            }
        });

        playBtn.addEventListener('click', () => {
            if (!isPlaying) {
                isLoading = true;
                setButtonLoading();
                audio.load();
                audio.play().catch(err => {
                    console.log('Audio play blocked or failed', err);
                    // Trigger penanganan error untuk mencoba link alternatif/fallback
                    audio.dispatchEvent(new Event('error'));
                });
            } else {
                audio.pause();
            }
        });

        // Intersection Observer
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('is-visible');
            });
        }, { threshold: 0.2 });

        document.querySelectorAll('.fade-in-section').forEach(section => observer.observe(section));
    </script>
</body>
</html>